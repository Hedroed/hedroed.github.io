{"version":3,"sources":["script.js"],"names":["Beaufort","windFrom","windTo","force","document","addEventListener","window","scroll","left","top","sun","querySelector","search","day1Element","day2Element","day3Element","cityLink","backButton","loader","gpsBox","gpsButton","loading","iconsDay1","iconsDay2","iconsDay3","windDay1","windDay2","windDay3","weatherIcons","previousScrollY","sunBehavior","_","throttle","y","max","pos","sunPos","style","transform","debounce","e","pageY","innerHeight","behavior","weatherFromCity","fetch","city","then","response","json","weatherFromCoord","lat","long","getWeather","classList","remove","dataPromise","weatherId","id","collectData","wind","day","speed","windForce","find","date","moment","dt","format","temp","Math","round","main","humidity","beaufort","weather","day1","data","list","className","day2","day3","name","coord","lon","country","text","href","changeIcons","iconsParent","childNodes","forEach","node","indexOf","contains","add","updateElement","element","textContent","days","keyCode","target","value","catch","console","error","parentElement","setTimeout","focus","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","err"],"mappings":"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","file":"script.js","sourcesContent":["const Beaufort = [\n    {\n        windFrom: 0,\n        windTo: 2,\n        force: 0\n    },\n    {\n        windFrom: 2,\n        windTo: 6,\n        force: 1\n    },\n    {\n        windFrom: 6,\n        windTo: 12,\n        force: 2\n    },\n    {\n        windFrom: 12,\n        windTo: 20,\n        force: 3\n    },\n    {\n        windFrom: 20,\n        windTo: 29,\n        force: 4\n    },\n    {\n        windFrom: 29,\n        windTo: 39,\n        force: 5\n    },\n    {\n        windFrom: 39,\n        windTo: 50,\n        force: 6\n    },\n    {\n        windFrom: 50,\n        windTo: 62,\n        force: 7\n    },\n    {\n        windFrom: 62,\n        windTo: 75,\n        force: 8\n    },\n    {\n        windFrom: 75,\n        windTo: 89,\n        force: 9\n    },\n    {\n        windFrom: 89,\n        windTo: 103,\n        force: 10\n    },\n    {\n        windFrom: 103,\n        windTo: 118,\n        force: 11\n    },\n    {\n        windFrom: 118,\n        windTo: 10000,\n        force: 12\n    }\n]\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    window.scroll({\n        left: 0,\n        top: 0,\n    })\n\n    const sun = document.querySelector('#bg-sun')\n    const search = document.querySelector('#search')\n    const day1Element = document.querySelector('#day1')\n    const day2Element = document.querySelector('#day2')\n    const day3Element = document.querySelector('#day3')\n    const cityLink = document.querySelector('#city')\n    const backButton = document.querySelector('#back')\n    const loader = document.querySelector('#loader')\n\n    const gpsBox = document.querySelector('#gps-box')\n    const gpsButton = document.querySelector('#gps')\n\n    let loading = false\n\n    const iconsDay1 = document.querySelector('#icons-day-1')\n    const iconsDay2 = document.querySelector('#icons-day-2')\n    const iconsDay3 = document.querySelector('#icons-day-3')\n\n    const windDay1 = document.querySelector('#wind-day-1')\n    const windDay2 = document.querySelector('#wind-day-2')\n    const windDay3 = document.querySelector('#wind-day-3')\n\n    const weatherIcons = {\n        \"sun\": \"005-sun.svg\",\n        \"thunder\": \"001-thunder.svg\",\n        \"rain\": \"002-rain.svg\",\n        \"cloud2\": \"003-cloudy.svg\",\n        \"cloudy\": \"004-cloud2.svg\",\n        \"cloud\": \"005-clouds.svg\",\n    }\n\n    let previousScrollY = 0\n\n    const sunBehavior = _.throttle((y, max) => {\n        const pos = 1 - (y / max)\n        const sunPos = y * (pos + 0.5)\n        sun.style.transform = `translateY(${sunPos}px)`\n    }, 30)\n        \n    window.addEventListener('scroll', _.debounce(e => {\n        const y = e.pageY\n        const max = window.innerHeight\n        \n        //Auto scroll\n        if(y - previousScrollY > 0) {\n            window.scroll({\n                left: 0,\n                top: max,\n                behavior: 'smooth'\n            })\n        } else {\n            window.scroll({\n                left: 0,\n                top: 0,\n                behavior: 'smooth'\n            })\n        }\n\n        sunBehavior(y, max)\n\n        previousScrollY = y\n    }, 30))\n\n    const weatherFromCity = city => {\n        return fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&APPID=6841e5450643e5d4ff59981dbf58944e`)\n        .then(response => {\n            return response.json();\n        })\n    }\n\n    const weatherFromCoord = (lat, long) => {\n        return fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${long}&APPID=6841e5450643e5d4ff59981dbf58944e`)\n        .then(response => {\n            return response.json();\n        })\n    }\n\n    const getWeather = dataPromise => {\n        loader.classList.remove('hide')\n\n        return dataPromise\n        .then(data => {\n\n            const weatherId = id => {\n                if(id === 800) {\n                    return \"sun\"\n                } else if(id === 801) {\n                    return \"cloudy\"\n                } else if(id < 900 && id >= 802) {\n                    return \"cloud1\"\n                } else if((id < 800 && id >= 700) || (id < 700 && id >= 600)) {\n                    return \"cloud2\"\n                } else if(id >= 900 || id < 300) {\n                    return \"thunder\"\n                } else if((id < 400 && id >= 300) || (id < 600 && id >= 500)) {\n                    return \"rain\"\n                }\n            }\n\n            const collectData = day => {\n                const wind = day.wind.speed\n                \n                const windForce = Beaufort.find(e => (e.windFrom <= wind && wind <= e.windTo))\n                return {\n                    date: moment(day.dt*1000).format('dddd DD MMM'),\n                    temp: Math.round(day.main.temp - 273.15, 2),\n                    humidity: day.main.humidity,\n                    wind: wind,\n                    beaufort: windForce.force,\n                    weather: weatherId(day.weather[0].id)\n                }\n            }\n\n            const day1 = collectData(data.list[0])\n            windDay1.className = `wind icon b-${day1.beaufort}`\n            const day2 = collectData(data.list[8])\n            windDay2.className = `wind icon b-${day2.beaufort}`\n            const day3 = collectData(data.list[16])\n            windDay3.className = `wind icon b-${day3.beaufort}`\n\n            const city = {\n                name: data.city.name,\n                lat: data.city.coord.lat,\n                long: data.city.coord.lon,\n                country: data.city.country\n            }\n\n            cityLink.text = `${city.name}, ${city.country}`\n            cityLink.href = `https://www.google.com/maps/place/${city.lat},${city.long}`\n\n            return {day1, day2, day3}\n        })\n        .then(days => {\n            const changeIcons = (iconsParent, weatherId) => {\n                iconsParent.childNodes.forEach(node => {\n                    if(node.className.indexOf(weatherId) != -1) {\n                        if(node.classList.contains('hide'))\n                            node.classList.remove(\"hide\")\n                    } else {\n                        if(!node.classList.contains('hide'))\n                            node.classList.add(\"hide\")\n                    }\n                })\n            }\n\n            const updateElement = (day, element) => {\n                element.querySelector('.date').textContent = day.date\n                element.querySelector('.temp').textContent = day.temp\n                element.querySelector('.humidity').textContent = day.humidity\n                element.querySelector('.wind').textContent = day.wind\n                // element.querySelector('.sunset').textContent = weatherIcons[day.weather]\n            }\n            \n            updateElement(days.day1, day1Element)\n            updateElement(days.day2, day2Element)\n            updateElement(days.day3, day3Element)\n\n            //Change weather svg\n            changeIcons(iconsDay1, days.day1.weather)\n            changeIcons(iconsDay2, days.day2.weather)\n            changeIcons(iconsDay3, days.day3.weather)\n\n            loader.classList.add('hide')\n        })\n    }\n\n    // search.addEventListener('change', e => {\n    //     console.log(\"Change\");\n        \n    //     getWeather(e.target.value)\n    //     .then(() => {\n    //         window.scroll(0, window.innerHeight)\n    //     })\n    //     .catch(e => {\n    //         console.error(\"Weather\", e)\n    //     })\n    // })\n\n    search.addEventListener('keydown', e => {\n        if(e.keyCode == 13) {\n            getWeather(weatherFromCity(e.target.value))\n            .then(() => {\n                window.scroll({\n                    left: 0,\n                    top: window.innerHeight,\n                    behavior: \"smooth\"\n                })\n            })\n            .catch(e => {\n                console.error(\"Weather\", e)\n                search.parentElement.classList.add('shake')\n                setTimeout(() => {\n                    search.parentElement.classList.remove('shake')\n                }, 1000)\n                loader.classList.add('hide')\n            })\n        }\n    })\n\n    backButton.addEventListener('click', e => {\n        search.value = \"\"\n        search.focus()\n    })\n\n    gpsButton.addEventListener('click', e => {\n        navigator.geolocation.getCurrentPosition(position => {\n            getWeather(weatherFromCoord(position.coords.latitude, position.coords.longitude))\n            .then(() => {\n                window.scroll({\n                    left: 0,\n                    top: window.innerHeight,\n                    behavior: \"smooth\"\n                })\n            })\n            .catch(e => {\n                gpsBox.classList.add('shake')\n                setTimeout(() => {\n                    gpsBox.classList.remove('shake')\n                }, 1000)\n                loader.classList.add('hide')\n            })\n        }, err => {\n            console.error('Geolocation Error', err)\n            gpsBox.classList.add('shake')\n                setTimeout(() => {\n                    gpsBox.classList.remove('shake')\n                }, 1000)\n        })\n    })\n\n    if (\"geolocation\" in navigator) {\n        /* geolocation is available */\n        gpsBox.classList.remove('hide')\n    }\n\n    getWeather(weatherFromCity('Paris'))\n\n}, false)"]}